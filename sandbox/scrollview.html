<!DOCTYPE HTML>
<html>
  <head>
    <style>
      .demo
      {
        font: 16pt georgia;
      }
      #wrapper
      {
        position:relative;
        z-index:1;
        width: 100%;
        height: 400px;
        border: 1px solid green;
        overflow: hidden;
      }
      #scroller
      {
        background-color: pink;
        padding: 10px;
        position: relative;
        margin: 0;
        min-height: 400px;
      }
      
      #scroller .foo
      {
        padding: 50px;
        background-color: rgba(0,0,0,0.5);
      }

      #scroller .foo.open
      {
        background-color: green;
      }
      
      #scroller .foo.swiped
      {
        background-color: blue;
      }

      #scroller .foo.tap-hold
      {
        background-color: purple;
      }
      
      #scroller *
      {
        -webkit-transform: translate3d(0,0,0);
      }
    </style>
    <script src="../build/debug/distil-sync.js" type="text/javascript" charset="utf-8"></script>
    <script src="../build/debug/coherent-debug.js" type="text/javascript" charset="utf-8"></script>
    <script src="../build/debug/src/controls/ScrollView.js" type="text/javascript" charset="utf-8"></script>
  </head>
    
  <body>
    <div class="demo">
      <div id="wrapper">
        <div id="scroller">
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>

          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
          <p>Eros et accumsan et iusto odio dignissim, qui blandit praesent! Decima et quinta decima eodem modo typi, qui nunc nobis.</p>
          <p>Sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat ut wisi enim. Sit amet consectetuer adipiscing elit ad minim veniam quis nostrud exerci tation ullamcorper suscipit. Commodo consequat duis autem vel eum iriure dolor in hendrerit.</p>
          <p>Vero eros et accumsan et iusto odio dignissim. Consequat vel illum dolore eu feugiat nulla facilisis at qui blandit.</p>
          <p class="foo">Ea commodo consequat duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie. Humanitatis per seacula quarta decima et quinta decima eodem modo typi qui nunc. Aliquip ex consequat vel illum dolore eu feugiat nulla!</p>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate! Option congue nihil imperdiet doming id quod mazim placerat facer possim assum typi. Et iusto odio dignissim qui blandit praesent luptatum? Claritas est etiam processus dynamicus qui sequitur mutationem consuetudium lectorum mirum est notare quam littera gothica.</p>
          <p>Qui facit eorum claritatem Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Decima et quinta decima eodem modo typi qui nunc nobis videntur parum clari fiant? Feugait nulla facilisi nam liber tempor cum soluta nobis eleifend option.</p>
        </div>
      </div>
    </div>
    
    <script>
      distil.onready(function(){
    
        NIB('scrollview', {
          
          main: VIEW('.demo', {
            
            '#scroller': coherent.ScrollView({
            }),
            
            '.foo': coherent.View({
              ongesturechange: function(event)
              {
                if (event.scale > 2)
                  this.addClassName('open');
                Event.preventDefault(event);
              },
              onswipe: function(event)
              {
                this.addClassName('swiped');
              },
              onmousedown: function(event)
              {
                this.addClassName('tap-hold');
              },
              onmouseup: function(event)
              {
                this.removeClassName('tap-hold');
              }
            })
            
          }),
          
          owner: {
            view: REF('main')
          }
          
        });
        
        var controller= new coherent.ViewController({
          nibName: 'scrollview'
        });
        
        controller.view();
        
      });
    </script>

  </body>
</html>